<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Employee Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="dashboard-wrapper">

    <!-- HEADER -->
    <header class="dashboard-header">
      <h1>Employee Dashboard</h1>
      <button id="logout-button" class="logout-btn">Logout</button>
    </header>

    <!-- NAVIGATION TABS -->
    <nav class="admin-nav">
      <button class="tab-btn active" data-section="orders-section">Orders</button>
      <button class="tab-btn" data-section="points-section">Issue Points</button>
      <button class="tab-btn" data-section="accounts-section">Manage Accounts</button>
    </nav>

    <!-- SECTION CONTAINER -->
    <div id="employee-sections">

    <!-- ORDERS SECTION -->
    <div id="orders-section" class="active admin-section">
      <h2>Pending Orders</h2>
    
      <table id="orders-table" class="admin-table">
        <thead>
          <tr>
            <th>Order #</th>
            <th>Customer Email</th>
            <th>Reward</th>
            <th>Qty</th>
            <th>Points</th>
            <th>Date</th>
            <th style="text-align: right;">Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- Filled dynamically -->
        </tbody>
      </table>
    </div>
    
    <!-- ISSUE POINTS SECTION -->
    <div id="points-section" class="admin-section">
      <h2>Issue Points</h2>
      <!-- IMPORT BUTTON -->
      <button id="import-standings-btn" class="toolbar-btn" style="margin-bottom: 20px;">
        Import Standings
      </button>
      <!-- SEARCH BAR -->
      <input 
        type="text" 
        id="customer-search" 
        class="search-bar" 
        placeholder="Search customers by email..."
        style="margin-bottom: 20px; width: 100%;"
      >
      <!-- CUSTOMER TABLE -->
      <table id="customer-table" class="admin-table">
        <thead>
          <tr>
            <th>Email</th>
            <th>Current Points</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <!-- dynamic rows added by JS -->
        </tbody>
      </table>
    </div>

    <!-- MANAGE ACCOUNTS SECTION -->
    <div id="accounts-section" class="admin-section">
      <h2>Manage Accounts</h2>
      <div class="placeholder">Account management coming soon...</div>
    </div>

  </div> <!-- /employee-sections -->

  </div> <!-- /dashboard-wrapper -->
  
<!-- ============================================================================================================ -->
<!-- MODALS CODE SECTION -->
<!-- ============================================================================================================ -->

  <!-- ISSUE POINTS MODAL -->
  <div id="issue-points-modal" class="modal hidden">
    <div class="modal-content">
      <h2>Issue Points</h2>
  
      <label>Event Name</label>
      <input type="text" id="points-event" placeholder="Ex: Smash Weekly #12">
  
      <label>Standings</label>
      <input type="text" id="points-standings" placeholder="Ex: 3/32">
  
      <label>Points</label>
      <input type="number" id="points-amount" min="1" placeholder="Positive number only">
  
      <div class="modal-buttons">
        <button id="confirm-issue-points" class="save-btn">Submit</button>
        <button id="cancel-issue-points" class="cancel-btn">Cancel</button>
      </div>
    </div>
  </div>
  
<!-- ============================================================================================================ -->
<!-- SCRIPTS SECTION -->
<!-- ============================================================================================================ -->
  
  <!-- TAB SWITCHING SCRIPT (same as admin) -->
  <script>
  const tabButtons = document.querySelectorAll(".tab-btn");
  const sections = document.querySelectorAll(".admin-section");

  tabButtons.forEach(btn => {
    btn.addEventListener("click", () => {
        tabButtons.forEach(b => b.classList.remove("active"));
        sections.forEach(s => s.classList.remove("active"));

        btn.classList.add("active");
        document.getElementById(btn.dataset.section).classList.add("active");
      });
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="app.js"></script>
</body>
</html>
